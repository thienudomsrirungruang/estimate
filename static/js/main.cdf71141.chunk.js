(this.webpackJsonpestimate=this.webpackJsonpestimate||[]).push([[0],[,,function(e){e.exports=JSON.parse('{"quantities":[{"name":"the diameter of Earth","unit":"m","value":12472000},{"name":"the diameter of a proton","unit":"m","value":8.33e-16},{"name":"width of China","unit":"m","value":5250000},{"name":"peak speed of Usain Bolt","unit":"m s^-1","value":12.42},{"name":"peak power of an average horse","unit":"kg m^2 s^-3","value":11200},{"name":"room temperature","unit":"K","value":293}],"units":[{"name":"kilogram","plural":"kilograms","unit":"kg","value":1},{"name":"gram","plural":"grams","unit":"g","value":0.001},{"name":"milligram","plural":"milligrams","unit":"g","value":0.000001},{"name":"microgram","plural":"micrograms","unit":"g","value":1e-9},{"name":"metric ton","plural":"metric tons","unit":"kg","value":1000},{"name":"stone","plural":"stones","unit":"kg","value":6.35},{"name":"pound","plural":"pounds","unit":"kg","value":0.4536},{"name":"ounce","plural":"ounces","unit":"kg","value":0.02835},{"name":"meter","plural":"meters","unit":"m","value":1},{"name":"centimeter","plural":"centimeters","unit":"m","value":0.01},{"name":"millimeter","plural":"millimeters","unit":"m","value":0.001},{"name":"micrometer","plural":"micrometers","unit":"m","value":0.000001},{"name":"nanometer","plural":"nanometers","unit":"m","value":1e-9},{"name":"kilometer","plural":"kilometers","unit":"m","value":1000},{"name":"smoot","plural":"smoots","unit":"m","value":1.702},{"name":"light-year","plural":"light-years","unit":"m","value":9460700000000000},{"name":"parsec","plural":"parsecs","unit":"m","value":30857000000000000},{"name":"astronomical unit","plural":"astronomical units","unit":"m","value":149597870700},{"name":"second","plural":"seconds","unit":"s","value":1},{"name":"millisecond","plural":"milliseconds","unit":"s","value":0.001},{"name":"microsecond","plural":"microseconds","unit":"s","value":0.000001},{"name":"nanosecond","plural":"nanoseconds","unit":"s","value":1e-9},{"name":"minute","plural":"minutes","unit":"s","value":60},{"name":"hour","plural":"hours","unit":"s","value":3600},{"name":"day","plural":"days","unit":"s","value":86400},{"name":"year","plural":"years","unit":"s","value":31540000},{"name":"decade","plural":"decades","unit":"s","value":315400000},{"name":"century","plural":"centuries","unit":"s","value":3154000000},{"name":"millenium","plural":"millenia","unit":"s","value":31540000000},{"name":"ampere","plural":"amperes","unit":"A","value":1},{"name":"kelvin","plural":"kelvin","unit":"K","value":1},{"name":"mole","plural":"moles","unit":"mol","value":1},{"name":"candela","plural":"candela","unit":"cd","value":1}]}')},,,function(e,t,n){e.exports=n(16)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(4),l=n.n(u),o=(n(10),n(1)),i=(n(11),n(2)),c=(n(12),["s","m","kg","A","K","mol","cd"]);function s(e){return Math.floor(Math.random()*e)}function m(e){var t=[0,0,0,0,0,0,0];return e.split(" ").forEach((function(e){var n=e.split("^");1==n.length?t[c.indexOf(n[0])]++:t[c.indexOf(n[0])]+=parseInt(n[1])})),t}function p(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(0!=e[n]&&0==t[n])return!1;return!0}function v(e,t){for(var n=[],a=0;a<e.length;a++)n.push(e[a]*t);return n}var f=function(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),u=n[0],l=n[1],c=Object(a.useState)(""),f=Object(o.a)(c,2),g=f[0],d=f[1],h=e.setGameState,w=e.setAnswerProps,b=e.score,E=e.setScore,O=Object(a.useRef)(null),y=e.setTopBarPercent,j=Object(a.useState)(Date.now()),k=Object(o.a)(j,2),S=k[0],T=(k[1],Object(a.useState)({title:"",unit:"",answer:"",tolerance:0})),P=Object(o.a)(T,2),x=P[0],A=P[1];function M(e){switch(e){case 1:return"";case 2:return" squared";case 3:return" cubed";default:return" to the power of "+e}}function B(e){var t=x.answer/x.tolerance,n=x.answer*x.tolerance;console.log(t),console.log(n),console.log(e);var a=t<=e&&e<=n;return a&&E(b+1),a}function N(e){if("Enter"===e.key){var t=(""===u?1:u)*Math.pow(10,""===g?0:g),n=B(t);w({userAnswer:t,correctAnswer:x.answer,tolerance:x.tolerance,correct:n,outOfTime:!1}),h(2)}}return Object(a.useEffect)((function(){var e=i.quantities[s(i.quantities.length)];console.log(m(e.unit));var t=function e(t){if(function(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}(t,[0,0,0,0,0,0,0]))return console.log("base case"),[new Map,1];for(var n,a,r=[],u=0;u<i.units.length;u++){var l=i.units[u],c=m(l.unit);if(console.log("xunit, unit"),console.log(c,t),p(c,t)){console.log("contains pass");for(var f=0;f<7;f++)if(0!==t[f]&&t[f]%c[f]===0){console.log("j="+f);var g=t[f]/c[f],d=(n=t,a=v(c,g),function(e,t){if(e.length==t.length){for(var n=[],a=0;a<e.length;a++)n.push(e[a]+t[a]);return n}}(n,function(e){for(var t=[],n=0;n<e.length;n++)t.push(-e[n]);return t}(a)));console.log(d);var h=e(d),w=Object(o.a)(h,2),b=w[0],E=w[1];console.log("u, factor"),console.log(b,E);var O=b;O.set(l,g),console.log(t+" -> "+d),r.push([O,E*Math.pow(l.value,g)])}}}return r.length>0?r[s(r.length)]:[void 0,void 0]}(m(e.unit)),n=Object(o.a)(t,2),a=n[0],r=n[1];console.log(a,r);var u=function(e){for(var t=[],n=[],a=0;a<i.units.length;a++)e.has(i.units[a])&&(e.get(i.units[a])>0?t.push({unit:i.units[a],multiplier:e.get(i.units[a])}):n.push({unit:i.units[a],multiplier:e.get(i.units[a])}));var r="";for(a=0;a<t.length;a++){var u=t[a];a!=t.length-1?(r+=u.unit.name,r+=M(u.multiplier),r+="-"):(r+=u.unit.plural,r+=M(u.multiplier))}if(n.length>0){r+=" per ";for(a=0;a<n.length;a++){u=n[a];a!=n.length-1?(r+=u.unit.name,r+=M(-u.multiplier),r+="-"):(r+=u.unit.name,r+=M(-u.multiplier))}}return r}(a);A({title:e.name,unit:u,answer:e.value/r,tolerance:10})}),[]),Object(a.useEffect)((function(){O.current.focus()}),[]),Object(a.useEffect)((function(){setTimeout((function(){var e=15e3-Date.now()+S;e<0&&function(){var e=B();w({userAnswer:NaN,correctAnswer:x.answer,tolerance:x.tolerance,correct:e,outOfTime:!0}),h(2)}(),y(e/15e3)}),30)})),r.a.createElement("div",{id:"game"},r.a.createElement("center",null,r.a.createElement("p",null,x.title," in ",x.unit),r.a.createElement("input",{ref:O,type:"text",value:u,onChange:function(e){return l(e.target.value)},onKeyDown:N}),"\xd710^",r.a.createElement("input",{type:"text",value:g,onChange:function(e){return d(e.target.value)},onKeyDown:N})))};n(13);var g=function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),u=n[0],l=n[1],i=e.answerProps,c=e.score,s=e.setGameState;function m(e){"Enter"===e.key&&u&&s(1)}function p(e){"Enter"===e.key&&l(!0)}function v(e,t,n,a){if((e=Number(e.toPrecision(t)))<Math.pow(10,a)||e>=Math.pow(10,n)){var r=Math.floor(Math.log(e)/Math.log(10));return(e/Math.pow(10,r)).toPrecision(t)+"e"+r}return e}return Object(a.useEffect)((function(){return window.addEventListener("keydown",m),window.addEventListener("keyup",p),function(){window.removeEventListener("keydown",m),window.removeEventListener("keyup",p)}}),[u]),r.a.createElement("center",null,r.a.createElement("p",{className:"bigText"},i.outOfTime?"Out of Time!":i.correct?"Correct!":"Incorrect!"),r.a.createElement("p",{className:"bodyText"},"Correct answer: "+v(i.correctAnswer,5,6,-3)),r.a.createElement("p",{className:"bodyText",style:{display:i.outOfTime?"none":"initial"}},"Your answer: "+v(i.userAnswer,5,6,-3)),r.a.createElement("p",{className:"bodyText"},"Tolerance: "+i.tolerance),r.a.createElement("p",{className:"bodyText"},"Score: "+c),r.a.createElement("p",{id:"continueMsg"},"Press enter to continue"))};n(14);var d=function(e){var t=Object(a.useState)(1),n=Object(o.a)(t,2),u=n[0],l=n[1],i=Object(a.useState)({userAnswer:null,correctAnswer:null,tolerance:null,correct:null}),c=Object(o.a)(i,2),s=c[0],m=c[1],p=Object(a.useState)(0),v=Object(o.a)(p,2),d=v[0],h=v[1],w=e.setTopBarPercent;return r.a.createElement("div",{id:"game-wrapper"},function(){switch(u){case 0:case 1:return r.a.createElement(f,{setGameState:l,setAnswerProps:m,score:d,setScore:h,setTopBarPercent:w});case 2:return w(0),r.a.createElement(g,{setGameState:l,answerProps:s,score:d});default:return null}}())};n(15);var h=function(e){var t={width:100*e.topBarPercent+"%"};return r.a.createElement("div",{id:"bar-wrapper"},r.a.createElement("div",{id:"bar",style:t}))};var w=function(){var e=Object(a.useState)(.5),t=Object(o.a)(e,2),n=t[0],u=t[1];return r.a.createElement("div",{id:"window"},r.a.createElement(h,{topBarPercent:n}),r.a.createElement(d,{setTopBarPercent:u}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[5,1,2]]]);
//# sourceMappingURL=main.cdf71141.chunk.js.map